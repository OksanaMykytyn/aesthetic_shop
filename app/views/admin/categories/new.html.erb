<section class="py-12">
  <div class="container max-w-md space-y-6">

    <h1 class="text-xl">
      Створення категорії
    </h1>

    <%= form_with model: [:admin, @category], local: true do |f| %>

      <div>
        <%= f.label :name, "Назва", class: "block text-sm mb-1" %>
        <%= f.text_field :name,
            class: "w-full border border-black p-2",
            required: true %>
      </div>

      <div>
        <%= f.label :description, "Опис", class: "block text-sm mb-1" %>
        <%= f.text_area :description,
            rows: 4,
            class: "w-full border border-black p-2" %>
      </div>

      <div>
        <%= f.label :photo, "Зображення", class: "block text-sm mb-1" %>
        <%= f.file_field :photo %>
      </div>

      <div>
        <h3 class="text-sm font-medium mt-4 mb-2">
          Додати товари до категорії
        </h3>

        <p class="text-xs text-gray-500 mb-2">
          (можна залишити порожнім)
        </p>

        <div class="space-y-2 max-h-48 overflow-y-auto border p-2">
          <%= f.collection_check_boxes :product_ids, Product.all, :id, :title do |b| %>
            <label class="flex gap-2 items-center text-sm">
              <%= b.check_box %>
              <%= b.text %>
            </label>
          <% end %>
        </div>
      </div>

      <div class="flex gap-4 pt-4">
        <%= f.submit "Створити",
            class: "primary-button w-full" %>

        <%= link_to "Скасувати",
            admin_categories_path,
            class: "w-full text-center border border-black py-3 hover:bg-black hover:text-white" %>
      </div>

    <% end %>

  </div>
</section>
