<section class="py-12">
  <div class="container">

    <div class="flex justify-between items-center mb-8">
      <h1 class="text-xl uppercase tracking-wide">
        Товари
      </h1>

      <%= link_to "Додати товар",
          new_admin_product_path,
          class: "border border-black px-4 py-2 text-sm uppercase tracking-wide hover:bg-black hover:text-white transition" %>
    </div>

    <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
      <% @products.each do |product| %>
        <div class="border border-black p-3">

          <div class="aspect-square mb-3 overflow-hidden border border-black">
            <% if product.images.attached? %>
              <%= image_tag product.images.first,
                class: "w-full h-full object-cover" %>
            <% else %>
              <div class="w-full h-full bg-gray-100"></div>
            <% end %>
          </div>

          <h3 class="text-sm text-center mb-1">
            <%= product.title %>
          </h3>

          <p class="text-sm text-center mb-3">
            <%= number_to_currency(product.price_cents / 100.0, unit: "₴") %>
          </p>

          <div class="flex justify-center gap-4 text-xs uppercase tracking-wide">
            <%= link_to "Редагувати",
                edit_admin_product_path(product),
                class: "hover:underline" %>

            <%= button_to "Видалити",
                admin_product_path(product),
                method: :delete,
                data: { confirm: "Ви впевнені?" },
                class: "hover:underline" %>
          </div>

        </div>
      <% end %>
    </div>

    <div class="mt-10 flex justify-center">
      <%= paginate @products, theme: "custom" %>
    </div>

  </div>
</section>
